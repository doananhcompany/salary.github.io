


const DATA = [
    {
        "id": "1",
        "product": "ANTIFRESH",
        "SG": "140,000",
        "HN": "145,000",
        "bonus": "8,000"
    },
    {
        "id": "2",
        "product": "BẢO QUẢN ACID SORBIC",
        "SG": "262,000",
        "HN": "267,000",
        "bonus": "5,000"
    },
    {
        "id": "3",
        "product": "BẢO QUẢN BÚN DA-NDB",
        "SG": "100,000",
        "HN": "105,000",
        "bonus": "5,000"
    },
    {
        "id": "4",
        "product": "BẢO QUẢN KALI SORBATE",
        "SG": "202,000",
        "HN": "207,000",
        "bonus": "5,000"
    },
    {
        "id": "5",
        "product": "BẢO QUẢN SODIUM BENZOAT ( MỸ )",
        "SG": "105,000",
        "HN": "110,000",
        "bonus": "2,000",
        "undefined": " "
    },
    {
        "id": "6",
        "product": "BENZOAT KALAMA (Lẻ)",
        "SG": "130,000",
        "HN": "135,000",
        "bonus": "3,000"
    },
    {
        "id": "7",
        "product": "BENZOAT KALAMA (Sỉ)",
        "SG": "125,000",
        "HN": "130,000",
        "bonus": "3,000",
        "undefined": "  "
    },
    {
        "id": "8",
        "product": "BENZOAT TRUNG QUỐC ",
        "SG": "80,000",
        "HN": "85,000",
        "bonus": "2,000"
    },
    {
        "id": "9",
        "product": "BỘ KIT THỬ HÀN THE",
        "SG": "90,000",
        "HN": "95,000",
        "bonus": "10,000"
    },
    {
        "id": "10",
        "product": "BỘT BÉO",
        "SG": "72,000",
        "HN": "77,000",
        "bonus": "3,000"
    },
    {
        "id": "11",
        "product": "BỘT ĐẬU NÀNH SOY PROTEIN",
        "SG": "120,000",
        "HN": "125,000",
        "bonus": "3,000"
    },
    {
        "id": "12",
        "product": "BỘT HÀNH NATURAL",
        "SG": "200,000",
        "HN": "205,000",
        "bonus": "10,000"
    },
    {
        "id": "13",
        "product": "BỘT KHOAI TÂY (Lẻ)",
        "SG": "60,000",
        "HN": "65,000",
        "bonus": "10,000"
    },
    {
        "id": "14",
        "product": "BỘT KHOAI TÂY (Sỉ)",
        "SG": "55,000",
        "HN": "60,000",
        "bonus": "3,000"
    },
    {
        "id": "15",
        "product": "BỘT NHỤC ĐẬU KHẨU LOẠI 1",
        "SG": "500,000",
        "HN": "505,000",
        "bonus": "10,000"
    },
    {
        "id": "16",
        "product": "BỘT NHỤC ĐẬU KHẨU LOẠI 2",
        "SG": "380,000",
        "HN": "385,000",
        "bonus": "10,000"
    },
    {
        "id": "17",
        "product": "BỘT NỞ",
        "SG": "60,000",
        "HN": "65,000",
        "bonus": "4,000"
    },
    {
        "id": "18",
        "product": "BỘT QUẾ",
        "SG": "150,000",
        "HN": "155,000",
        "bonus": "5,000"
    },
    {
        "id": "19",
        "product": "CÂN TIỂU LY",
        "SG": "100,000",
        "HN": "105,000",
        "bonus": "8,000"
    },
    {
        "id": "20",
        "product": "CARAMEN",
        "SG": "55,000",
        "HN": "60,000",
        "bonus": "3,000"
    },
    {
        "id": "21",
        "product": "CHẤT XƠ TRE",
        "SG": "125,000",
        "HN": "130,000",
        "bonus": "5,000"
    },
    {
        "id": "22",
        "product": "COLOREN",
        "SG": "180,000",
        "HN": "185,000",
        "bonus": "10,000"
    },
    {
        "id": "23",
        "product": "CỐM XANH",
        "SG": "90,000",
        "HN": "95,000",
        "bonus": "5,000"
    },
    {
        "id": "24",
        "product": "CURE I",
        "SG": "90,000",
        "HN": "95,000",
        "bonus": "7,000"
    },
    {
        "id": "25",
        "product": "DA - ANTIMIC",
        "SG": "130,000",
        "HN": "135,000",
        "bonus": "8,000"
    },
    {
        "id": "26",
        "product": "ĐƯỜNG JK - TAME",
        "SG": "230,000",
        "HN": "235,000",
        "bonus": "5,000"
    },
    {
        "id": "27",
        "product": "DUONG NHO HATRELOS",
        "SG": "102,000",
        "HN": "107,000",
        "bonus": "10,000"
    },
    {
        "id": "28",
        "product": "ECOZYME-TG",
        "SG": "450,000",
        "HN": "455,000",
        "bonus": "30,000"
    },
    {
        "id": "29",
        "product": "ETHYROSINE",
        "SG": "202,000",
        "HN": "207,000",
        "bonus": "5,000"
    },
    {
        "id": "30",
        "product": "FUNNY BOB",
        "SG": "270,000",
        "HN": "275,000",
        "bonus": "10,000"
    },
    {
        "id": "31",
        "product": "GALA ( XỬ LÍ THỊT YẾU )",
        "SG": "232,000",
        "HN": "237,000",
        "bonus": "10,000"
    },
    {
        "id": "32",
        "product": "GELATIN",
        "SG": "282,000",
        "HN": "287,000",
        "bonus": "10,000"
    },
    {
        "id": "33",
        "product": "GIA VỊ GÀ Ủ MUỐI",
        "SG": "250,000",
        "HN": "255,000",
        "bonus": "10,000"
    },
    {
        "id": "34",
        "product": "GIA VỊ HƯƠNG THỰC PHẨM",
        "SG": "250,000",
        "HN": "255,000",
        "bonus": "15,000"
    },
    {
        "id": "35",
        "product": "GIA VỊ THỊT NƯỚNG",
        "SG": "300,000",
        "HN": "305,000",
        "bonus": "10,000"
    },
    {
        "id": "36",
        "product": "GIA VỊ THỊT SỆT",
        "SG": "300,000",
        "HN": "305,000",
        "bonus": "10,000"
    },
    {
        "id": "37",
        "product": "GIA VỊ XÚC XÍCH ( ĐỨC )",
        "SG": "380,000",
        "HN": "385,000",
        "bonus": "10,000"
    },
    {
        "id": "38",
        "product": "GIA VỊ XÚC XÍCH AF",
        "SG": "362,000",
        "HN": "367,000",
        "bonus": "10,000"
    },
    {
        "id": "39",
        "product": "GIA VỊ XÚC XÍCH BD",
        "SG": "312,000",
        "HN": "317,000",
        "bonus": "10,000"
    },
    {
        "id": "40",
        "product": "GIA VỊ XÚC XÍCH CA",
        "SG": "262,000",
        "HN": "267,000",
        "bonus": "10,000"
    },
    {
        "id": "41",
        "product": "GIA VỊ XÚC XÍCH CA1",
        "SG": "312,000",
        "HN": "317,000",
        "bonus": "10,000"
    },
    {
        "id": "42",
        "product": "GIA VỊ XÚC XÍCH DA",
        "SG": "300,000",
        "HN": "305,000",
        "bonus": "10,000"
    },
    {
        "id": "43",
        "product": "GIẢM MÙI TANH HASKING FLAVOR",
        "SG": "462,000",
        "HN": "467,000",
        "bonus": "10,000"
    },
    {
        "id": "44",
        "product": "GIÒN DAI HATRIFOS A",
        "SG": "120,000",
        "HN": "125,000",
        "bonus": "5,000"
    },
    {
        "id": "45",
        "product": "GIÒN DAI HATRIFOS A1",
        "SG": "120,000",
        "HN": "125,000",
        "bonus": "7,000"
    },
    {
        "id": "46",
        "product": "GIÒN DAI HATRIFOS A20",
        "SG": "132,000",
        "HN": "137,000",
        "bonus": "5,000"
    },
    {
        "id": "47",
        "product": "GIÒN DAI HATRIFOS A20",
        "SG": "95,000",
        "HN": "100,000",
        "bonus": "5,000"
    },
    {
        "id": "48",
        "product": "GLUTEN",
        "SG": "77,000",
        "HN": "82,000",
        "bonus": "4,000"
    },
    {
        "id": "49",
        "product": "HACODAN TẠO CẤU TRÚC ỔN ĐỊNH",
        "SG": "92,000",
        "HN": "97,000",
        "bonus": "7,000"
    },
    {
        "id": "50",
        "product": "HACOMIX - H",
        "SG": "90,000",
        "HN": "95,000",
        "bonus": "3,000"
    },
    {
        "id": "51",
        "product": "HACOMIX DA",
        "SG": "90,000",
        "HN": "95,000",
        "bonus": "7,000"
    },
    {
        "id": "52",
        "product": "HAJITIDE ĐIỀU VỊ",
        "SG": "167,000",
        "HN": "172,000",
        "bonus": "8,000"
    },
    {
        "id": "53",
        "product": "HÀNH BỘT NGUYÊN CHẤT",
        "SG": "160,000",
        "HN": "165,000",
        "bonus": "5,000"
    },
    {
        "id": "54",
        "product": "HAQUALIC TẠO DAI",
        "SG": "72,000",
        "HN": "77,000",
        "bonus": "4,000"
    },
    {
        "id": "55",
        "product": "HD8",
        "SG": "900,000",
        "HN": "905,000",
        "bonus": "30,000"
    },
    {
        "id": "56",
        "product": "HƯƠNG BẮP LỎNG",
        "SG": "500,000",
        "HN": "505,000",
        "bonus": "10,000"
    },
    {
        "id": "57",
        "product": "HƯƠNG BÒ 1H791",
        "SG": "255,000",
        "HN": "260,000",
        "bonus": "10,000"
    },
    {
        "id": "58",
        "product": "HƯƠNG BÒ BỘT",
        "SG": "242,000",
        "HN": "247,000",
        "bonus": "10,000"
    },
    {
        "id": "59",
        "product": "HƯƠNG BÒ BỘT 1H055",
        "SG": "250,000",
        "HN": "255,000",
        "bonus": "10,000"
    },
    {
        "id": "60",
        "product": "HƯƠNG BÒ L2",
        "SG": "252,000",
        "HN": "257,000",
        "bonus": "10,000"
    },
    {
        "id": "61",
        "product": "HƯƠNG BÒ SỆT",
        "SG": "232,000",
        "HN": "237,000",
        "bonus": "10,000"
    },
    {
        "id": "62",
        "product": "HƯƠNG BỘT QUẾ",
        "SG": "240,000",
        "HN": "245,000",
        "bonus": "10,000"
    },
    {
        "id": "63",
        "product": "HƯƠNG CÁ",
        "SG": "252,000",
        "HN": "257,000",
        "bonus": "10,000"
    },
    {
        "id": "64",
        "product": "HƯƠNG CÁ HỒI",
        "SG": "392,000",
        "HN": "397,000",
        "bonus": "10,000"
    },
    {
        "id": "65",
        "product": "HƯƠNG CUA BỘT",
        "SG": "242,000",
        "HN": "247,000",
        "bonus": "10,000"
    },
    {
        "id": "66",
        "product": "HƯƠNG CUA LỎNG",
        "SG": "252,000",
        "HN": "257,000",
        "bonus": "8,000"
    },
    {
        "id": "67",
        "product": "HƯƠNG GÀ BỘT",
        "SG": "242,000",
        "HN": "247,000",
        "bonus": "10,000"
    },
    {
        "id": "68",
        "product": "HƯƠNG GÀ NƯỚC H01",
        "SG": "252,000",
        "HN": "257,000",
        "bonus": "10,000"
    },
    {
        "id": "69",
        "product": "HƯƠNG GÀ NƯỚC H02",
        "SG": "252,000",
        "HN": "257,000",
        "bonus": "10,000"
    },
    {
        "id": "70",
        "product": "HƯƠNG GÀ NƯỚC H03",
        "SG": "252,000",
        "HN": "257,000",
        "bonus": "10,000"
    },
    {
        "id": "71",
        "product": "HƯƠNG HẢI SẢN BỘT",
        "SG": "242,000",
        "HN": "247,000",
        "bonus": "10,000"
    },
    {
        "id": "72",
        "product": "HƯƠNG HẢI SẢN NƯỚC",
        "SG": "252,000",
        "HN": "257,000",
        "bonus": "10,000"
    },
    {
        "id": "73",
        "product": "HƯƠNG HÀNH BỘT",
        "SG": "272,000",
        "HN": "277,000",
        "bonus": "10,000"
    },
    {
        "id": "74",
        "product": "HƯƠNG HÀNH NƯỚC",
        "SG": "272,000",
        "HN": "277,000",
        "bonus": "10,000"
    },
    {
        "id": "75",
        "product": "HƯƠNG HD ĐỎ",
        "SG": "900,000",
        "HN": "905,000",
        "bonus": "30,000"
    },
    {
        "id": "76",
        "product": "HƯƠNG HD XANH",
        "SG": "900,000",
        "HN": "905,000",
        "bonus": "10,000"
    },
    {
        "id": "77",
        "product": "HUONG JAMBONG NUOC",
        "SG": "262,000",
        "HN": "267,000",
        "bonus": "10,000"
    },
    {
        "id": "78",
        "product": "HƯƠNG LẠP XƯỞNG",
        "SG": "312,000",
        "HN": "317,000",
        "bonus": "10,000"
    },
    {
        "id": "79",
        "product": "HƯƠNG MẮM BỘT M421",
        "SG": "252,000",
        "HN": "257,000",
        "bonus": "10,000"
    },
    {
        "id": "80",
        "product": "HƯƠNG MỰC BỘT",
        "SG": "242,000",
        "HN": "247,000",
        "bonus": "10,000"
    },
    {
        "id": "81",
        "product": "HƯƠNG MỰC NƯỚC",
        "SG": "252,000",
        "HN": "257,000",
        "bonus": "10,000"
    },
    {
        "id": "82",
        "product": "HƯƠNG NƯỚC MẮM CÁ CƠM C05",
        "SG": "277,000",
        "HN": "282,000",
        "bonus": "10,000"
    },
    {
        "id": "83",
        "product": "HƯƠNG NƯỚC MẮM CÁ HỒI M2",
        "SG": "277,000",
        "HN": "282,000",
        "bonus": "10,000"
    },
    {
        "id": "84",
        "product": "HƯƠNG PATE BỘT 1H230",
        "SG": "262,000",
        "HN": "267,000",
        "bonus": "10,000"
    },
    {
        "id": "85",
        "product": "HƯƠNG PATE GAN",
        "SG": "262,000",
        "HN": "267,000",
        "bonus": "10,000"
    },
    {
        "id": "86",
        "product": "HƯƠNG THỊT 0912",
        "SG": "262,000",
        "HN": "267,000",
        "bonus": "8,000"
    },
    {
        "id": "87",
        "product": "HƯƠNG THỊT 1908",
        "SG": "450,000",
        "HN": "455,000",
        "bonus": "10,000"
    },
    {
        "id": "88",
        "product": "HƯƠNG THỊT BỘT H0819",
        "SG": "285,000",
        "HN": "290,000",
        "bonus": "10,000"
    },
    {
        "id": "89",
        "product": "HƯƠNG THỊT BỘT H3",
        "SG": "297,000",
        "HN": "302,000",
        "bonus": "10,000"
    },
    {
        "id": "90",
        "product": "HƯƠNG THỊT BỘT HD7",
        "SG": "290,000",
        "HN": "295,000",
        "bonus": "10,000"
    },
    {
        "id": "91",
        "product": "HƯƠNG THỊT H055",
        "SG": "272,000",
        "HN": "277,000",
        "bonus": "10,000"
    },
    {
        "id": "92",
        "product": "HƯƠNG THỊT H8935",
        "SG": "262,000",
        "HN": "267,000",
        "bonus": "10,000"
    },
    {
        "id": "93",
        "product": "HƯƠNG THỊT HA689",
        "SG": "242,000",
        "HN": "247,000",
        "bonus": "10,000"
    },
    {
        "id": "94",
        "product": "HƯƠNG THỊT L1301",
        "SG": "240,000",
        "HN": "245,000",
        "bonus": "10,000"
    },
    {
        "id": "95",
        "product": "HƯƠNG THỊT L2601 LỎNG",
        "SG": "240,000",
        "HN": "245,000",
        "bonus": "10,000"
    },
    {
        "id": "96",
        "product": "HƯƠNG THỊT LÁ CHUỐI",
        "SG": "260,000",
        "HN": "265,000",
        "bonus": "10,000"
    },
    {
        "id": "97",
        "product": "HƯƠNG THỊT LỎNG H2",
        "SG": "262,000",
        "HN": "267,000",
        "bonus": "10,000"
    },
    {
        "id": "98",
        "product": "HƯƠNG THỊT SH1932 BỘT",
        "SG": "245,000",
        "HN": "250,000",
        "bonus": "10,000"
    },
    {
        "id": "99",
        "product": "HUONG THỊT VU190",
        "SG": "242,000",
        "HN": "247,000",
        "bonus": "10,000"
    },
    {
        "id": "100",
        "product": "HƯƠNG THỊT XÔNG KHÓI NƯỚC",
        "SG": "260,000",
        "HN": "265,000",
        "bonus": "10,000"
    },
    {
        "id": "101",
        "product": "HƯƠNG TỎI BỘT",
        "SG": "162,000",
        "HN": "167,000",
        "bonus": "10,000"
    },
    {
        "id": "102",
        "product": "HƯƠNG TỎI LỎNG",
        "SG": "282,000",
        "HN": "287,000",
        "bonus": "10,000"
    },
    {
        "id": "103",
        "product": "HƯƠNG TỎI TƯƠI 1H111",
        "SG": "242,000",
        "HN": "247,000",
        "bonus": "10,000"
    },
    {
        "id": "104",
        "product": "HƯƠNG TÔM BỘT",
        "SG": "242,000",
        "HN": "247,000",
        "bonus": "10,000"
    },
    {
        "id": "105",
        "product": "HƯƠNG TÔM NƯỚC",
        "SG": "252,000",
        "HN": "257,000",
        "bonus": "5,000"
    },
    {
        "id": "106",
        "product": "HƯƠNG XÔNG KHÓI BỘT",
        "SG": "312,000",
        "HN": "317,000",
        "bonus": "10,000"
    },
    {
        "id": "107",
        "product": "HƯƠNG XÔNG KHÓI INDASIA",
        "SG": "318,000",
        "HN": "323,000",
        "bonus": "10,000"
    },
    {
        "id": "108",
        "product": "HƯƠNG XÔNG KHÓI NƯỚC",
        "SG": "277,000",
        "HN": "282,000",
        "bonus": "10,000"
    },
    {
        "id": "109",
        "product": "HƯƠNG XÚC XÍCH LỎNG",
        "SG": "272,000",
        "HN": "277,000",
        "bonus": "10,000"
    },
    {
        "id": "110",
        "product": "I+G ĐỎ",
        "SG": "285,000",
        "HN": "290,000",
        "bonus": "10,000"
    },
    {
        "id": "111",
        "product": "I+G XANH",
        "SG": "290,000",
        "HN": "295,000",
        "bonus": "10,000"
    },
    {
        "id": "112",
        "product": "KHUÔN CÁ CHÉP LỚN",
        "SG": "100,000",
        "HN": "105,000",
        "bonus": "5,000"
    },
    {
        "id": "113",
        "product": "KHUÔN CÁ CHÉP NHỎ",
        "SG": "80,000",
        "HN": "85,000",
        "bonus": "5,000"
    },
    {
        "id": "114",
        "product": "KHUÔN CHẢ 1KG",
        "SG": "80,000",
        "HN": "85,000",
        "bonus": "5,000"
    },
    {
        "id": "115",
        "product": "KHUÔN GIÒ CHẢ NỮA KG",
        "SG": "60,000",
        "HN": "65,000",
        "bonus": "5,000"
    },
    {
        "id": "116",
        "product": "LÁ CHUỐI GIẢ (Lẻ)",
        "SG": "100,000",
        "HN": "105,000",
        "bonus": "5,000"
    },
    {
        "id": "117",
        "product": "LÁ CHUỐI GIẢ (Sỉ)",
        "SG": " 95,000 ",
        "HN": "100,000",
        "bonus": "5,000"
    },
    {
        "id": "118",
        "product": "LAKE TARAZIN",
        "SG": "450,000",
        "HN": "455,000",
        "bonus": "10,000"
    },
    {
        "id": "119",
        "product": "LÀM TRẮNG THÁI LAN",
        "SG": "120,000",
        "HN": "125,000",
        "bonus": "5,000"
    },
    {
        "id": "120",
        "product": "LÀM TRẮNG WHITE FLOUR",
        "SG": "97,000",
        "HN": "102,000",
        "bonus": "5,000"
    },
    {
        "id": "121",
        "product": "LƯỚI ĐỊNH HÌNH",
        "SG": "55,000",
        "HN": "60,000",
        "bonus": "5,000"
    },
    {
        "id": "122",
        "product": "MAI QUẾ LỘ",
        "SG": "220,000",
        "HN": "225,000",
        "bonus": "5,000"
    },
    {
        "id": "123",
        "product": "MANH NILONG SIZE 39*39",
        "SG": "60,000",
        "HN": "65,000",
        "bonus": "5,000"
    },
    {
        "id": "124",
        "product": "MANH NILONG SIZE 45*45",
        "SG": "60,000",
        "HN": "65,000",
        "bonus": "5,000"
    },
    {
        "id": "125",
        "product": "MÀU ALLURARED",
        "SG": "642,000",
        "HN": "647,000",
        "bonus": "10,000"
    },
    {
        "id": "126",
        "product": "MÀU PAPRIKA",
        "SG": "272,000",
        "HN": "277,000",
        "bonus": "10,000"
    },
    {
        "id": "127",
        "product": "Màu Syrup -  Edicol Brown HT",
        "SG": "400,000",
        "HN": "405,000",
        "bonus": "10,000"
    },
    {
        "id": "128",
        "product": "Màu Syrup - Edicol Ponceau 4R",
        "SG": "272,000",
        "HN": "277,000",
        "bonus": "10,000"
    },
    {
        "id": "129",
        "product": "MÀU TRẮNG",
        "SG": "152,000",
        "HN": "157,000",
        "bonus": "10,000"
    },
    {
        "id": "130",
        "product": "MÁY HÚT CHÂN KHÔNG MINI",
        "SG": "1,200,000",
        "bonus": "50,000"
    },
    {
        "id": "131",
        "product": "MEATPLUS A",
        "SG": "100,000",
        "HN": "105,000",
        "bonus": "7,000"
    },
    {
        "id": "132",
        "product": "MUỐI ĐỎ 5S",
        "SG": "60,000",
        "HN": "65,000",
        "bonus": "5,000"
    },
    {
        "id": "133",
        "product": "MUỐI ĐỎ Q2",
        "SG": "90,000",
        "HN": "95,000",
        "bonus": "5,000"
    },
    {
        "id": "134",
        "product": "NẤM MEN ĐIỀU VỊ 1",
        "SG": "250,000",
        "HN": "255,000",
        "bonus": "10,000"
    },
    {
        "id": "135",
        "product": "NOODLE_MP TẠO DAI",
        "SG": "100,000",
        "HN": "105,000",
        "bonus": "7,000"
    },
    {
        "id": "136",
        "product": "NƯỚC MẮM CỐT",
        "SG": "120,000",
        "HN": "125,000",
        "bonus": "5,000"
    },
    {
        "id": "137",
        "product": "PEA GREEN",
        "SG": "352,000",
        "HN": "357,000",
        "bonus": "10,000"
    },
    {
        "id": "138",
        "product": "PHỤ GIA LÀM TAN BỌT",
        "SG": "282,000",
        "HN": "287,000",
        "bonus": "10,000"
    },
    {
        "id": "139",
        "product": "PIM PLUS A7 ( ĐỨC )",
        "SG": "132,000",
        "HN": "137,000",
        "bonus": "8,000"
    },
    {
        "id": "140",
        "product": "PIM PLUS A7 (THÁI LAN)",
        "SG": "100,000",
        "HN": "105,000",
        "bonus": "8,000"
    },
    {
        "id": "141",
        "product": "PIM_A7 DẺO CHẢY",
        "SG": "122,000",
        "HN": "127,000",
        "bonus": "8,000"
    },
    {
        "id": "142",
        "product": "PIM_A9 CỨNG CHẮC",
        "SG": "102,000",
        "HN": "107,000",
        "bonus": "5,000"
    },
    {
        "id": "143",
        "product": "PONCEAU 4R",
        "SG": "260,000",
        "HN": "265,000",
        "bonus": "5,000"
    },
    {
        "id": "144",
        "product": "SOYSOYA BỘT ĐẬU NÀNH",
        "SG": "65,000",
        "HN": "70,000",
        "bonus": "2,000"
    },
    {
        "id": "145",
        "product": "SUNSET YELLOW",
        "SG": "262,000",
        "HN": "267,000",
        "bonus": "10,000"
    },
    {
        "id": "146",
        "product": "SUPER - ACETATE",
        "SG": "172,000",
        "HN": "177,000",
        "bonus": "8,000"
    },
    {
        "id": "147",
        "product": "SUPER CARRAGEENAN",
        "SG": "210,000",
        "HN": "215,000",
        "bonus": "10,000"
    },
    {
        "id": "148",
        "product": "SUPER HCK-252 GIÒN CỨNG",
        "SG": "212,000",
        "HN": "217,000",
        "bonus": "10,000"
    },
    {
        "id": "149",
        "product": "SUPER MB200",
        "SG": "212,000",
        "HN": "217,000",
        "bonus": "8,000"
    },
    {
        "id": "150",
        "product": "SUPER MEATPROTEIN A262",
        "SG": "260,000",
        "HN": "265,000",
        "bonus": "10,000"
    },
    {
        "id": "151",
        "product": "SUPER NEM A1",
        "SG": "152,000",
        "HN": "157,000",
        "bonus": "7,000"
    },
    {
        "id": "152",
        "product": "SUPERBINDER K70 ( THÁI )",
        "SG": "120,000",
        "HN": "125,000",
        "bonus": "7,000"
    },
    {
        "id": "153",
        "product": "SUPERBINDER K70 (ĐỨC)",
        "SG": "140,000",
        "HN": "145,000",
        "bonus": "10,000"
    },
    {
        "id": "154",
        "product": "TẠO NHŨ MỠ FATBINDER",
        "SG": "317,000",
        "HN": "322,000",
        "bonus": "10,000"
    },
    {
        "id": "155",
        "product": "TARAZIN",
        "SG": "250,000",
        "HN": "255,000",
        "bonus": "10,000"
    },
    {
        "id": "156",
        "product": "TIÊU HẠT",
        "SG": "140,000",
        "HN": "145,000",
        "bonus": "5,000"
    },
    {
        "id": "157",
        "product": "TINH BỘT BẮP (Lẻ)",
        "SG": "36,000",
        "HN": "41,000",
        "bonus": "2,000"
    },
    {
        "id": "158",
        "product": "TINH BỘT BẮP (Sỉ)",
        "SG": "31,000",
        "HN": "36,000",
        "bonus": "2,000"
    },
    {
        "id": "159",
        "product": "TINH BỘT BIẾN TÍNH MÌ (Lẻ)",
        "SG": "40,000",
        "HN": "45,000",
        "bonus": "2,000"
    },
    {
        "id": "160",
        "product": "TINH BỘT BIẾN TÍNH MÌ (Sỉ)",
        "SG": "35,000",
        "HN": "40,000",
        "bonus": "2,000"
    },
    {
        "id": "161",
        "product": "TỎI BỘT",
        "SG": "95,000",
        "HN": "100,000",
        "bonus": "3,000"
    },
    {
        "id": "162",
        "product": "TRẮNG THỦY SẢN",
        "SG": "85,000",
        "HN": "90,000",
        "bonus": "5,000"
    },
    {
        "id": "163",
        "product": "TÚI HÚT 13*16",
        "SG": " 80,000 ",
        "HN": "85,000",
        "bonus": "5,000"
    },
    {
        "id": "164",
        "product": "TÚI HÚT LÁ CHUỐI 18x30",
        "SG": " 105,000 ",
        "HN": "110,000",
        "bonus": "5,000"
    },
    {
        "id": "165",
        "product": "VỎ XÚC XÍCH FI27 CASING",
        "SG": "850,000",
        "HN": "850,000",
        "bonus": "25,000"
    },
    {
        "id": "166",
        "product": "VỎ XÚC XÍCH LẺ",
        "SG": "55,000",
        "HN": "60,000",
        "bonus": "3,000"
    },
    {
        "id": "167",
        "product": "XƠ LÚA MÌ",
        "SG": "117,000",
        "HN": "122,000",
        "bonus": "5,000"
    }
];





const stringdata = JSON.stringify(DATA)
const dataArr = JSON.parse(stringdata)

const cusNameElement = document.getElementById('cusName')
const addressElement = document.getElementById('address')
const phoneElement = document.getElementById('phone')


const productElement = document.getElementById('product-select')
const paidElement = document.getElementById('paid')
const weightElement = document.getElementById('weight')
const storeElement = document.getElementsByName('store');
paidElement.value = '000';
let isAlreadyFormat = false;

let DATAFORTABLE = [];
let resultId = 0;

// display select product
returnSelectTemplate = (dataArr) => {
    let template = '<option value="">--Chọn tên sản phẩm--</option>';
    dataArr.map((item) => {
        template += `<option value="${item.id}">${item.product}</option>`
    })
    return template
}

productElement.innerHTML = returnSelectTemplate(dataArr);

// display paid
addDot = (element, isMoney) => {
    const idErrElement = element.id + 'Err';

    element.addEventListener('blur', function () {
        let paidValue = element.value
        if (paidValue === '' && isMoney) {
            element.value = '000';
        }
        if (!isAlreadyFormat) {
            paidValue = paidValue.split('.').join("")
            if (paidValue[0] === '0') {
                showAndHideErr(idErrElement, true, 'Số không khả dụng')
            }
            element.value = formatCurrentcy(paidValue)
            isAlreadyFormat = true;
            return
        }

        showAndHideErr(idErrElement, false)
    });

    element.addEventListener('keydown', function () {
        isAlreadyFormat = false
    })
}

function isNumber(val) {
    return val == +val;
}



formatPhoneNumber = (phoneNum) => {
    if (phoneNum.includes('+84')) {
        phoneNum = phoneNum.replace('+84', '0')
    }
    //normalize string and remove all unnecessary characters
    phoneNum = phoneNum.replace(/[^\d]/g, "");

    switch (phoneNum.length) {
        case 0:
            showAndHideErr('phoneErr', true, 'bạn chưa nhập số điện thoại')
            return null;
        case 10:
            return phoneNum.replace(/(\d{3})(\d{3})(\d{4})/, "$1-$2-$3");
        case 11:
            return phoneNum.replace(/(\d{3})(\d{4})(\d{4})/, "$1-$2-$3");
        default:
            alert(`bạn vừa nhập ${phoneNum.length} số cho số điện thoại?`);
            return phoneNum.replace(/(\d{3})(\d{3})(\d*)/, "$1-$2-$3");
    }
}


formatCurrentcy = (string) => {
    let stringArr = string.toString().split('');
    let stringArrRevert = stringArr.reverse();
    stringArrRevert = stringArrRevert.map((item, index) => {
        if (index !== 0 && index % 3 === 0) {
            return item += '.';
        }
        return item;
    })
    stringArr = stringArrRevert.reverse();
    return stringArr.join('')
}

justNumber = (element) => {
    let privousValue = ''
    const idErrElement = element.id + 'Err';

    element.addEventListener('keyup', function () {

        if (!isNumber(this.value)) {
            showAndHideErr(idErrElement, true, 'Vui lòng nhập số')
            this.value = privousValue;
            return;
        }
        privousValue = this.value
        showAndHideErr(idErrElement, false)
    });

}

showAndHideErr = (idErr, isShow, message = '') => {
    const Errelement = document.getElementById(idErr)
    Errelement.innerHTML = message;
    if (isShow) {
        Errelement.style.display = 'block'
    } else {
        Errelement.style.display = 'none'
    }
}

hideProductErr = () => {
    productElement.addEventListener('change', () => {
        showAndHideErr('selectErr', false)
    })
}



isFormValid = () => {
    const weightValue = Number(weightElement.value.split('.').join(''));
    const cusNameValue = cusNameElement.value
    const phoneValue = phoneElement.value
    const addressValue = addressElement.value

    const isweightValueValid = weightValue !== 0;

    if (!productElement.value) {
        showAndHideErr('selectErr', true, 'Bạn chưa chọn sản phẩm')
    }
    if (!isweightValueValid) {
        showAndHideErr('weightErr', true, 'Bạn chưa nhập số ký')
    }
    if (!cusNameValue) {
        showAndHideErr('cusNameErr', true, 'Bạn chưa nhập tên KH')
    }
    if (!phoneValue) {
        showAndHideErr('phoneErr', true, 'Bạn chưa nhập sdt')
    }
    if (!addressValue) {
        showAndHideErr('addressErr', true, 'Bạn chưa nhập địa chỉ')
    }

    return productElement.value && isweightValueValid && cusNameValue && phoneValue && addressValue;
}

formatPhone = () => {
    phoneElement.addEventListener('blur', function () {
        this.value = formatPhoneNumber(this.value)
    })
}

toTitleCase = (str) => {
    return str.replace(
        /\w\S*/g,
        function (txt) {
            return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();
        }
    );
}

formatCusName = () => {
    cusNameElement.addEventListener('change', function () {
        this.value = toTitleCase(this.value)
    })
}


hideErr = (inputElementArr) => {
    inputElementArr.map((el) => {
        el.addEventListener('keydown', function () {
            const errId = this.id + 'Err';
            showAndHideErr(errId, false)
        })
    })

}






addDot(paidElement, true)
addDot(weightElement, false)
justNumber(paidElement)
justNumber(weightElement)
justNumber(phoneElement)
hideProductErr()
formatPhone()
formatCusName()
hideErr([addressElement, cusNameElement])

// validation and format
// active row
function activeRow(rowId) {
    allRows = document.getElementsByClassName('result-row')

    allRows = [...allRows]
    allRows.map((el) => {
        el.style.backgroundColor = 'white';
    })
    rowElement = document.getElementById(rowId)
    if (!rowElement) {
        return;
    }
    rowElement.style.backgroundColor = 'rgb(137, 240, 137)';
}

// active row

// convert voice to text
let micElement = document.getElementById('mic')
let speech = false;
window.speechrecognition = window.webkitSpeechRecognition;
const recognition = new speechrecognition();
recognition.lang = 'vi-VN';
recognition.continuous = true;
recognition.interimResults = true;
recognition.addEventListener('result', (e) => {
    const transcript = Array.from(e.results)
        .map(result => result[0])
        .map(result => result.transcript)

    addressElement.value = transcript;
})

micElement.addEventListener('click', function () {
    speech = !speech;

    if (speech) {
        recognition.start();
        this.style.backgroundColor = 'red';
    } else {
        recognition.abort();
        micElement.style.backgroundColor = 'rgb(240 240 240)';
        recognition.onspeechend = function () {
            recognition.stop();
        }
    }
})
// convert voice to text
// result

getStoreValue = (radios) => {
    for (var i = 0, length = radios.length; i < length; i++) {
        if (radios[i].checked) {
            // do whatever you want with the checked radio
            return radios[i].value;

            // only one radio can be logically checked, don't check the rest
            break;
        }
    }
}



calculate = (weightValue, paidValue, storeValue) => {
    const productId = productElement.value;
    const productInfo = dataArr.filter((value) => {
        return value.id === productId
    })[0];
    if (storeValue === 'SG' && productInfo.SG === undefined) {
        showAndHideErr('selectErr', true, 'Sản phẩm này hiện chưa có ở SG')
        return;
    }
    if (storeValue === 'HN' && productInfo.HN === undefined) {
        showAndHideErr('selectErr', true, 'Sản phẩm này hiện chưa có ở HN')
        return;
    }
    let unitPrice = storeValue === 'SG' ? productInfo.SG.replace(/,/g, '') : productInfo.HN.replace(/,/g, '');

    let bonus, debt;
    const revenue = unitPrice * weightValue;
    if (paidValue !== 0) {
        bonus = paidValue / unitPrice * productInfo.bonus.replace(/,/g, '');
        debt = revenue - paidValue;
    } else {
        bonus = 0;
        debt = revenue
    }

    return {
        bonus: bonus,
        revenue: revenue,
        debt: debt,
        product: productInfo.product,
    }
}


deleteResult = (resultId) => {
    document.getElementById('save').innerHTML = 'Lưu vào bộ nhớ';
    DATAFORTABLE = DATAFORTABLE.filter((item) => {
        return item.result_id !== resultId
    })
    displayData(DATAFORTABLE)
}

displayData = (DATAFORTABLE) => {

    let rowsTemplate = '';
    let totalBonus = 0;
    let totalDebt = 0;
    let totalRevenue = 0;
    let totalPaid = 0;
    let order = 1;
    DATAFORTABLE.map((item) => {
        totalBonus += item.bonus;
        totalDebt += item.debt;
        totalRevenue += item.revenue;
        totalPaid += item.paid

        rowsTemplate += `
      <tr id="id${item.result_id}" class="result-row" onclick="activeRow('id${item.result_id}')">
          <td class="result-stt">${order++}</td>
          <td>${item.cus_name}</td>
          <td class="align-right">${item.phone}</td>
          <td>${item.address}</td>
          <td>${item.product}</td>
          <td class="align-right">${item.weight} kg</td>
          <td class="result-store">${item.store}</td>
          <td class="result-money align-right">${formatCurrentcy(item.revenue)} đ</td>
          <td class="result-money align-right">${formatCurrentcy(item.paid)} đ</td>
          <td class="result-money align-right">${formatCurrentcy(item.debt)} đ</td>
          <td class="result-money align-right">${formatCurrentcy(item.bonus.toFixed())} đ</td>
          <td class="result-del"><i class="fa-solid fa-trash-can" onclick="deleteResult(${item.result_id})"></i></td>
      </tr>`
    })

    const totalTemplate = `
  <tr class="result-row-fixed">
      <td class="result-stt"></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
      <td class="result-store"></td>
      <td class="result-money align-right money">${formatCurrentcy(totalRevenue)} đ</td>
      <td class="result-money align-right money">${formatCurrentcy(totalPaid)} đ</td>
      <td class="result-money align-right money">${formatCurrentcy(totalDebt)} đ</td>
      <td class="result-money align-right money">${formatCurrentcy(totalBonus.toFixed())} đ</td>
      <td class="result-del"></td>
  </tr>`

    const displayTemplate = totalTemplate + rowsTemplate;
    document.getElementById('result-id').innerHTML = displayTemplate
}


addDataToTable = () => {
    const cusNameValue = cusNameElement.value
    const phoneValue = phoneElement.value
    const addressValue = addressElement.value
    const weightValue = Number(weightElement.value.split('.').join(''));
    const paidValue = Number(paidElement.value.split('.').join(''));
    const storeValue = getStoreValue(storeElement)
    const productId = productElement.value;

    if (isFormValid()) {

        resultId++
        DATAFORTABLE.push({
            ...calculate(weightValue, paidValue, storeValue, productId),
            cus_name: cusNameValue,
            phone: phoneValue,
            address: addressValue,
            result_id: resultId,
            product_id: productId,
            weight: weightValue,
            paid: paidValue,
            store: storeValue,
        })
    }
    displayData(DATAFORTABLE)
}

getDataFromLocalStorage = () => {
    const stringdata = localStorage.getItem('data')
    if (stringdata) {
        DATAFORTABLE = JSON.parse(stringdata)
        if (DATAFORTABLE.length) {
            resultId = DATAFORTABLE[DATAFORTABLE.length - 1].result_id;
        }

        displayData(DATAFORTABLE);
    }
}

getDataFromLocalStorage()

saveToLocalStorage = (data) => {
    data = JSON.stringify(data)
    localStorage.setItem("data", data);
    document.getElementById('save').innerHTML = 'Đã lưu'
}

document.getElementById('save').addEventListener('click', function () {
    saveToLocalStorage(DATAFORTABLE)
})

document.getElementById('add').addEventListener('click', () => {
    addDataToTable()
    document.getElementById('save').innerHTML = 'Lưu vào bộ nhớ'
})

